{"version":3,"sources":["routes/RestrictedRoute.tsx","api/authenticateApi.ts","redux/reducers/authenticate.ts","components/authentication/LoginForm.tsx","pages/LoginPage.tsx","components/authentication/SignUpForm.tsx","pages/SignUpPage.tsx","components/note/NotesPanelHeader.tsx","components/note/SearchBar.tsx","components/note/NotePanelPreview.tsx","components/note/NotesPreviewContainer.tsx","components/note/NotesPanel.tsx","redux/reducers/mode.ts","api/notesApi.ts","redux/reducers/notes.ts","components/note/DrawerNavigation.tsx","components/note/NoteNavigation.tsx","components/note/DropdownButtons.tsx","components/note/ToolBar.tsx","components/note/NoteContainer.tsx","components/note/GetStarted.tsx","routes/PrivateRoute.tsx","pages/NotePage.tsx","App.tsx","redux/store.ts","index.tsx"],"names":["RestrictedRoute","props","Component","component","rest","authenticated","useSelector","state","auth","render","to","loginRequest","username","password","a","axios","post","withCredentials","then","res","data","status","catch","error","response","request","Error","message","registerRequest","email","firstName","lastName","logoutRequest","delete","createAsyncThunk","credentials","rejectWithValue","authenticateAPI","console","log","authenticateSlice","createSlice","name","initialState","accessToken","id","reducers","updateAccessToken","action","payload","unauthorized","extraReducers","builder","addCase","fulfilled","rejected","actions","useStyles","makeStyles","theme","container","width","height","display","alignItems","justifyContent","paper","flexDirection","avatar","margin","spacing","backgroundColor","palette","primary","main","form","marginTop","submit","link","textDecoration","color","LoginForm","useState","errorMessage","setErrorMessage","classes","history","useHistory","dispatch","useDispatch","handleLoginRequest","e","preventDefault","target","value","push","Container","maxWidth","className","Avatar","Typography","variant","align","noValidate","onSubmit","TextField","required","fullWidth","label","type","autoFocus","autoComplete","Button","Grid","item","LoginPage","RegisterForm","setPassword","matchingPasswords","setMatchingPasswords","handleRegisterRequest","confirmpassword","comfirmpassword","err","xs","sm","onChange","SignUpPage","SignUpForm","panelHeaderContainer","position","addButton","top","right","transform","NotesPanelHeader","toggleDrawer","useEffect","undefined","document","querySelectorAll","addEventListener","IconButton","size","RouterLink","style","fontSize","searchBarContainer","searchBar","boxShadow","SearchBar","debouncedChangeHandler","useCallback","debounce","event","setSearchQuery","placeholder","InputProps","startAdornment","InputAdornment","notePreviewContainer","padding","noteCard","activeLink","borderLeft","noteContent","NotePanelPreview","note","active","setActive","activeNote","notes","min","date","Date","publishedDate","getDate","getMonth","getFullYear","getHours","getMinutes","_id","Card","elevation","clsx","CardHeader","title","length","substring","subheader","CardContent","preview","notesContainer","maxHeight","overflow","NotesPreviewContainer","displayedNotes","setDisplayedNotes","searchQuery","searchNotesRegex","RegExp","filterNotes","regex","searchedProducts","filter","test","direction","map","index","panelContainer","breakpoints","down","NotesPanel","modeSlice","lightMode","changeMode","newMode","getNotes","get","headers","ContentType","Authorization","addNote","content","updateNote","noteId","put","deleteNote","notesApi","notesSlice","updatedNoteIndex","findIndex","deletedNoteIndex","splice","newActiveNote","cleanNotes","drawer","DrawerNavigation","setDrawer","open","key","helperToggleDrawer","Drawer","anchor","onClose","role","onClick","navigationContainer","minHeight","grow","flexGrow","authenticationButton","marginLeft","withWidth","mode","previousState","StyledMenu","withStyles","border","Menu","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","root","common","white","MenuItem","CustomizedMenus","React","anchorEl","setAnchorEl","Boolean","setTimeout","formatOptions","forEach","span","pointerEvents","option","getAttribute","cmd_val","split","execCommand","currentTarget","ListItemText","toolBarContainer","minWidth","saveButton","editButton","editButtonsGroup","flexWrap","buttonGroup","ToolBar","editButtons","button","deleteFunction","marginRight","saveFunction","noteContainer","NoteContainer","useParams","newNote","setNewNote","setNote","setNoteContent","editDate","setEditDate","getFullMinutes","currentDate","createDate","displayedNote","find","unauthorizedAccess","editor","getElementById","innerHTML","innerText","savedNote","addNoteReducer","updateNoteReducer","deleteNoteReducer","noteStyles","contentEditable","gutterBottom","getStartedContainer","GetStarted","PrivateRoute","NotePage","lg","md","exact","path","App","persistConfig","storage","reducer","combineReducers","authenticatonReducer","modeReducer","notesReducer","persistedReducer","persistReducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","createTheme","typography","fontWeightRegular","persistor","persistStore","ReactDOM","ThemeProvider","loading"],"mappings":"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","file":"static/js/main.452f2588.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../redux/store';\r\n\r\n\r\n// Restricted routes could be accessed only if the client is not authenticated\r\nconst RestrictedRoute = (props: any) => {\r\n    const {component: Component, ...rest} = props;\r\n    const { authenticated } = useSelector((state: RootState) => state.auth);\r\n    \r\n    return (\r\n        <Route {...rest} render={() => (!authenticated ? <Component /> : <Redirect to=\"/\" />)}/>\r\n    )\r\n};\r\n\r\nexport default RestrictedRoute","import axios from 'axios';\r\n\r\nconst localHostURL = 'http://localhost:5000';\r\n\r\nexport const loginRequest = async (username: string, password: string) => {\r\n    return axios.post('/api/v1/authentication/login', {username, password}, {withCredentials: true})\r\n      .then(res => ({\r\n        data: res.data,\r\n        status: res.status,\r\n      }))\r\n      .catch(error => {\r\n        if(error.response) {\r\n          return ({\r\n            data: error.response.data,\r\n            status: error.response.status,\r\n          });\r\n        } else if (error.request) {\r\n          throw new Error(error.request);\r\n        } else {\r\n          throw new Error(error.message);\r\n        };\r\n      });\r\n};\r\n\r\nexport const registerRequest = async (username: string, password: string, email: string, firstName: string, lastName: string) => {\r\n    return axios.post('/api/v1/authentication/signup', {username, password, email, firstName, lastName}, {withCredentials: true})\r\n      .then(res => ({\r\n        data: res.data,\r\n        status: res.status,\r\n      }))\r\n      .catch(error => {\r\n        if(error.response) {\r\n          return ({\r\n            data: error.response.data,\r\n            status: error.response.status,\r\n          });\r\n        } else if (error.request) {\r\n          throw new Error(error.request);\r\n        } else {\r\n          throw new Error(error.message);\r\n        };\r\n      });\r\n};\r\n\r\nexport const logoutRequest = async () => {\r\n  return axios.delete('/api/v1/authentication/logout', {withCredentials: true})\r\n    .then(res => ({\r\n      data: res.data,\r\n      status: res.status,\r\n    }))\r\n    .catch(error => {\r\n      if(error.response) {\r\n        return ({\r\n          data: error.response.data,\r\n          status: error.response.status,\r\n        });\r\n      } else if (error.request) {\r\n        throw new Error(error.request);\r\n      } else {\r\n        throw new Error(error.message);\r\n      };\r\n    });\r\n};\r\n","import { createSlice, PayloadAction, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport * as authenticateAPI from '../../api/authenticateApi';\r\n\r\n\r\ninterface IAuthenticate {\r\n    authenticated: boolean;\r\n    accessToken: string;\r\n    id: string;\r\n};\r\n\r\ninterface ILoginCredentials {\r\n    username: string;\r\n    password: string;\r\n};\r\n\r\ninterface IRegisterCredentials{\r\n    username: string;\r\n    password: string;\r\n    email: string\r\n    firstName: string;\r\n    lastName: string;\r\n};\r\n\r\ninterface ILogoutData {\r\n    message: string;\r\n};\r\n\r\n// default state of the store\r\nconst initialState: IAuthenticate = {\r\n    authenticated: false,\r\n    accessToken: '',\r\n    id: ''\r\n};\r\n\r\n// calling API request to login\r\nexport const loginRequest = createAsyncThunk(\r\n    'user/loginRequestStatus', \r\n    async (credentials: ILoginCredentials, { rejectWithValue }) => {\r\n        try {\r\n            const {username, password} = credentials;\r\n            const response = await authenticateAPI.loginRequest(username, password);\r\n            if(response.status === 401) return rejectWithValue({message: response.data.message, status: response.status});\r\n            console.log(response);\r\n            return response;\r\n        } catch (error) {\r\n            return error;\r\n        };\r\n    },\r\n);\r\n\r\n// calling API request to register\r\nexport const registerRequest = createAsyncThunk(\r\n    'user/registerRequestStatus',\r\n    async (credentials: IRegisterCredentials, { rejectWithValue }) => {\r\n        try {\r\n            const {username, password, email, firstName, lastName} = credentials;\r\n            const response = await authenticateAPI.registerRequest(username, password, email, firstName, lastName);\r\n            if(response.status === 400) return rejectWithValue({message: response.data.message, status: response.status});\r\n            return response;\r\n        } catch (error) {\r\n            return error;\r\n        };\r\n    },\r\n);\r\n\r\n// calling API request to logout\r\nexport const logoutRequest = createAsyncThunk(\r\n    'user/logoutRequestStatus',\r\n    async ( data: ILogoutData, {rejectWithValue}) => {\r\n        try {\r\n            const { message } = data;\r\n            const response = await authenticateAPI.logoutRequest();\r\n            console.log(message);\r\n            return response;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        };\r\n    },\r\n);\r\n\r\nexport const authenticateSlice = createSlice({\r\n    name: 'authenticate',\r\n    initialState,\r\n    reducers: {\r\n        // update accessToken if provided (after accessToken being expired)\r\n        updateAccessToken: (state, action) => {\r\n            state.accessToken = action.payload;\r\n        },\r\n        unauthorized: (state) => {\r\n            state.authenticated = false;\r\n            state.accessToken = '';\r\n            state.id = '';\r\n        }, \r\n    },\r\n    extraReducers: (builder) => {\r\n        builder.addCase(loginRequest.fulfilled, (state, action) => {\r\n            state.authenticated = true;\r\n            state.id = action.payload.data.id;\r\n            state.accessToken = action.payload.data.accessToken;\r\n        });\r\n        builder.addCase(loginRequest.rejected, (state, action) => {\r\n            state.authenticated = false;\r\n        });\r\n        builder.addCase(registerRequest.fulfilled, (state, action) => {\r\n            state.authenticated = true;\r\n            state.id = action.payload.data.id;\r\n            state.accessToken = action.payload.data.accessToken;\r\n        });\r\n        builder.addCase(registerRequest.rejected, (state, action) => {\r\n            state.authenticated = false;\r\n        });\r\n        builder.addCase(logoutRequest.fulfilled, (state, action) => {\r\n            state.authenticated = false;\r\n            state.id = '';\r\n            state.accessToken = '';\r\n        });\r\n    },\r\n});\r\n\r\nexport const { unauthorized, updateAccessToken } = authenticateSlice.actions;\r\nexport default authenticateSlice.reducer;\r\n","import React, {useState} from 'react';\r\nimport { Typography, Avatar, Button, TextField, Grid, makeStyles, Container } from '@material-ui/core';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport { Link as RouterLink, useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loginRequest } from '../../redux/reducers/authenticate'; \r\nimport { AppDispatch } from '../../redux/store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    width: '100%',\r\n    height: '100vh',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center', \r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:hover': {\r\n      color: '#587D9F',\r\n    },\r\n  },\r\n}));\r\n\r\ntype ErrorMessage = {\r\n  error: boolean;\r\n  message: string;\r\n};\r\n\r\n\r\nconst LoginForm = () => {\r\n  // default state of a error message\r\n  const [errorMessage, setErrorMessage] = useState<ErrorMessage>({error: false, message: ''});\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n\r\n  // handle login request function\r\n  const handleLoginRequest = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n    // create target object with the values from the form\r\n    const target = e.target as typeof e.target & {\r\n      username: { value: string };\r\n      password: { value: string };\r\n    };\r\n\r\n    const username = target.username.value;\r\n    const password = target.password.value;\r\n    // if any of the fields are not filled\r\n    if(username === '' || password === '')\r\n    { setErrorMessage({error: true, message: 'Fields are requried'}); return; };\r\n    \r\n    // call the API request to login\r\n    dispatch(loginRequest({username, password}))\r\n      .then(res => {\r\n        // if something went wrong display error message\r\n        if(res.payload.status === 401) {setErrorMessage({error: true, message: res.payload.message}); return; };\r\n        // after successfuly logging in redirect to the main page\r\n        history.push('/');\r\n      });\r\n  };\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" className={classes.container}>\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        {errorMessage.error && <Typography color=\"error\" align=\"center\" variant=\"body1\">{errorMessage.message}</Typography>}\r\n        <form className={classes.form} noValidate onSubmit={handleLoginRequest}>\r\n          <TextField variant=\"outlined\" margin=\"normal\" required fullWidth id=\"username\" label=\"Username\" type=\"text\" name=\"username\" autoFocus />\r\n          <TextField variant=\"outlined\" margin=\"normal\" required fullWidth name=\"password\" label=\"Password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" />\r\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item>\r\n              <RouterLink to=\"/signup\" className={classes.link}>\r\n                <Typography variant=\"body2\">Don't have an account? Sign Up</Typography>\r\n              </RouterLink>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport LoginForm from '../components/authentication/LoginForm';\r\n\r\nconst LoginPage = () => {\r\n    return (\r\n        <LoginForm />\r\n    )\r\n};\r\n\r\nexport default LoginPage;\r\n","import React, {useState} from 'react';\r\nimport { Typography, Avatar, Button, TextField, Grid, makeStyles, Container } from '@material-ui/core';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport { Link as RouterLink, } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { registerRequest } from '../../redux/reducers/authenticate'; \r\nimport { AppDispatch } from '../../redux/store';\r\nimport { useHistory } from 'react-router';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    width: '100%',\r\n    height: '100vh',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center', \r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:hover': {\r\n      color: '#587D9F',\r\n    },\r\n  },\r\n}));\r\n\r\ntype ErrorMessage = {\r\n  error: boolean;\r\n  message: string;\r\n};\r\n\r\n\r\nconst RegisterForm = () => {\r\n  const [password, setPassword] = useState<string>('');\r\n  const [matchingPasswords, setMatchingPasswords] = useState<boolean>(true);\r\n  const [errorMessage, setErrorMessage] = useState<ErrorMessage>({error: false, message: ''});\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const history = useHistory();\r\n\r\n  // handle register request function\r\n  const handleRegisterRequest = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n    \r\n    // if the passwords do not match display the error and return\r\n    if(!matchingPasswords) { setErrorMessage({error: true, message: 'Passwords do not match!'}); return; };\r\n    \r\n    // creating the target object witht values\r\n    const target = e.target as typeof e.target & {\r\n      firstName: { value: string };\r\n      lastName: { value: string };\r\n      username: { value: string };\r\n      email: { value: string };\r\n      password: { value: string };\r\n      comfirmpassword: { value: string};\r\n    };\r\n\r\n    const email = target.email.value;\r\n    const firstName = target.firstName.value;\r\n    const lastName = target.lastName.value;\r\n    const username = target.username.value;\r\n    const password = target.password.value;\r\n\r\n    // if any of the fields is not filled\r\n    if(email === '' || firstName === '' || lastName === '' || username === '' || password === '')\r\n    { setErrorMessage({error: true, message: 'Fields are requried!'}); return; };\r\n\r\n    const confirmpassword = target.comfirmpassword.value;\r\n    if(password !== confirmpassword) { setErrorMessage({error: true, message: 'Passwords do not match'}); return; };\r\n\r\n    // call API request to register\r\n    dispatch(registerRequest({username, password, email, firstName, lastName}))\r\n      .then((res: any) => {\r\n        const { message, status } = res.payload;\r\n        // if something went wrong display error message\r\n        if(status === 400) {setErrorMessage({error: true, message: message}); return; };\r\n        // after being successfuly registered redirect to the index page\r\n        history.push('/');\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  // on confirm password change check if the passwords are matching\r\n  const handleMatchingPasswords = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const confirmPassword = e.target.value;\r\n    if(confirmPassword !== password){ setMatchingPasswords(false); return};\r\n    setMatchingPasswords(true);\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" className={classes.container}>\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        {errorMessage.error && <Typography color=\"error\" align=\"center\" variant=\"body1\">{errorMessage.message}</Typography>}\r\n        <form className={classes.form} noValidate onSubmit={handleRegisterRequest}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField autoComplete=\"fname\" name=\"firstName\" variant=\"outlined\" required fullWidth id=\"firstName\" label=\"First Name\" autoFocus />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField variant=\"outlined\" required fullWidth id=\"lastName\" label=\"Last Name\" name=\"lastName\" autoComplete=\"lname\" />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField variant=\"outlined\" required fullWidth id=\"username\" label=\"Username\" name=\"username\" type=\"text\" />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField variant=\"outlined\" required fullWidth id=\"email\" label=\"Email Address\" name=\"email\" autoComplete=\"email\" />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField variant=\"outlined\" required fullWidth name=\"password\" label=\"Password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" onChange={(e: React.ChangeEvent<HTMLInputElement>) => {setPassword(e.target.value)}}/>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField error={!matchingPasswords} variant=\"outlined\" required fullWidth name=\"comfirmpassword\" label=\"Confirm Password\" type=\"password\" id=\"confirmpassword\" onChange={handleMatchingPasswords}/>\r\n            </Grid>\r\n          </Grid>\r\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item>\r\n              <RouterLink to=\"/login\" className={classes.link}>\r\n                <Typography variant=\"body2\">Already have an account? Sign in</Typography>\r\n              </RouterLink>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default RegisterForm;","import React from 'react';\r\nimport SignUpForm from '../components/authentication/SignUpForm';\r\n\r\nconst SignUpPage = () => {\r\n    return (\r\n        <SignUpForm />\r\n    )\r\n};\r\n\r\nexport default SignUpPage;\r\n","import React, {useEffect} from 'react';\r\nimport { Typography, makeStyles, IconButton } from '@material-ui/core';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    panelHeaderContainer: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        height: '10%',\r\n        width: '100%',\r\n    },\r\n    addButton: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        right: '20px',\r\n        transform: 'translate(-50%, -50%)',\r\n    }\r\n}));\r\n\r\ninterface IProps {\r\n    toggleDrawer?: () => void;\r\n}\r\n\r\nconst NotesPanelHeader = (props: IProps) => {\r\n    const classes = useStyles();\r\n    const {toggleDrawer} = props;\r\n\r\n    useEffect(() => {\r\n        // if the toggle drawer is not provided return\r\n        if(toggleDrawer === undefined) return;\r\n        const addButton = document.querySelectorAll('#add-new-note');\r\n        // add event listener to call the toggle drawer\r\n        addButton[1].addEventListener('click', () => {\r\n            toggleDrawer();\r\n        });\r\n\r\n    }, [toggleDrawer])\r\n\r\n    return (\r\n        <div className={classes.panelHeaderContainer}>\r\n            <Typography variant=\"h5\" align=\"center\" color=\"primary\">Notes</Typography>\r\n            <IconButton className={classes.addButton} color=\"primary\" size=\"medium\" id=\"add-new-note\" component={RouterLink} to=\"/new\" ><AddIcon style={{fontSize: '2rem'}}/></IconButton>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default NotesPanelHeader;\r\n","import React, { useCallback } from 'react';\r\nimport { Grid, TextField, InputAdornment, makeStyles } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\n// import debounce to delay calling changeHandler function\r\nimport debounce from 'lodash.debounce';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    searchBarContainer: {\r\n        width: '100%',\r\n        height: '10%',\r\n    },\r\n    searchBar: {\r\n        width: '80%',\r\n        margin: 'auto',\r\n        boxShadow: '0px 4px 4px rgba(0, 0, 0, 0.25)',\r\n    }\r\n}));\r\n\r\ninterface IProps {\r\n    setSearchQuery: React.Dispatch<React.SetStateAction<string>>;\r\n};\r\n\r\nconst SearchBar = (props: IProps) => {\r\n    const classes = useStyles();\r\n    \r\n    // setting the search query\r\n    const changeHandler = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        props.setSearchQuery(event.target.value);\r\n    };\r\n    \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    const debouncedChangeHandler = useCallback(\r\n        // delay 300 ms before calling changeHandler\r\n        debounce(changeHandler, 300)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    , []);\r\n\r\n    return (\r\n        <Grid container className={classes.searchBarContainer}>\r\n            <TextField \r\n                className={classes.searchBar}\r\n                id=\"search-input\"\r\n                placeholder=\"Search...\"\r\n                variant=\"outlined\"\r\n                onChange={debouncedChangeHandler}\r\n                InputProps={{\r\n                    startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                            <SearchIcon />\r\n                        </InputAdornment>\r\n                    )\r\n                }}\r\n            />\r\n        </Grid>\r\n    )\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, {useEffect, useState} from 'react';\r\nimport { INote } from './NotesPreviewContainer';\r\nimport { Container, Typography, makeStyles, Card, CardHeader, CardContent } from '@material-ui/core';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport clsx from 'clsx';\r\n\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../redux/store';\r\ninterface IProps {\r\n    note: INote;\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    notePreviewContainer: {\r\n        margin: '20px 0',\r\n        padding: '0',\r\n        textDecoration: 'none',\r\n        color: 'black'\r\n    },\r\n    noteCard: {\r\n        '&:hover': {\r\n            boxShadow: '0px 4px 10px 0px rgba(0,0,0,0.64)',\r\n        }\r\n    },\r\n    activeLink: {\r\n        borderLeft: `7px solid ${theme.palette.primary.main}`,\r\n    },\r\n    noteContent: {\r\n        padding: '0 16px',\r\n    },\r\n\r\n}));\r\n\r\nconst NotePanelPreview = (props: IProps) => {\r\n    const classes = useStyles();\r\n    const note = props.note;\r\n    const [active, setActive] = useState<boolean>(false);\r\n    const { activeNote } = useSelector((state: RootState) => state.notes);\r\n\r\n    useEffect(() => {\r\n        // if the certain note is active\r\n        if(activeNote === note) {\r\n            setActive(true);\r\n            return;\r\n        };   \r\n        setActive(false);\r\n    }, [activeNote, note]);\r\n\r\n    // creating published date value\r\n    const date = new Date(note.date);\r\n    // if the minutes are less than 10 add aditional '0'\r\n    const getFullMinutes = (min: number) => {\r\n        if(min < 10) return '0'+ min;\r\n        return min; \r\n    };\r\n    const publishedDate = date.getDate() + '.' + date.getMonth() + '.' + date.getFullYear() + ' ' + date.getHours() + ':' + getFullMinutes(date.getMinutes());\r\n\r\n    return (\r\n        <Container className={classes.notePreviewContainer} component={RouterLink} to={`${note._id}`}>\r\n            <Card elevation={3} className={clsx(classes.noteCard, active ? classes.activeLink : null)}>\r\n                <CardHeader \r\n                    title={note.title.length > 20 ? note.title.substring(0,17) + '...' : note.title}\r\n                    subheader={publishedDate}\r\n                />\r\n                <CardContent className={classes.noteContent}>\r\n                    <Typography variant=\"body2\" color=\"textPrimary\">{note.preview.length > 150 ? note.preview.substring(0, 147) + '...' : note.preview}</Typography>\r\n                </CardContent>\r\n            </Card>\r\n        </Container>\r\n    )\r\n};\r\n\r\nexport default NotePanelPreview;\r\n","import React, { useEffect, useState } from 'react';\r\nimport NotePanelPreview from './NotePanelPreview';\r\nimport { Container, Grid, makeStyles } from '@material-ui/core';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../redux/store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    notesContainer: {\r\n        height: '80%',\r\n        maxHeight: '80%',\r\n        width: '80%',\r\n        padding: '0',\r\n        overflow: 'auto',\r\n    }\r\n}));\r\n\r\nexport interface INote {\r\n    _id: string;\r\n    active?: boolean;\r\n    title: string;\r\n    preview: string;\r\n    date: string;\r\n    content: string;\r\n}\r\n\r\ninterface IProps {\r\n    searchQuery: string;\r\n};\r\n\r\nconst NotesPreviewContainer = (props: IProps) => {\r\n    const classes = useStyles();\r\n    const { notes } = useSelector((state: RootState) => state.notes);\r\n    const [displayedNotes, setDisplayedNotes] = useState<Array<INote>>([]);\r\n\r\n    // on change of notes, and search query values\r\n    useEffect(() => {\r\n        // if the search query is empty display unfiltered notes\r\n        if(props.searchQuery === '') setDisplayedNotes(notes);\r\n        // creating a regex with search query\r\n        const searchNotesRegex = new RegExp(props.searchQuery, \"i\");\r\n        // filter notes with the given regex\r\n        filterNotes(searchNotesRegex);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [props.searchQuery, notes]);\r\n\r\n    const filterNotes = (regex: any ) => {\r\n        let searchedProducts = [...notes].filter(note => regex.test(note.preview));\r\n        setDisplayedNotes(searchedProducts);\r\n    };\r\n\r\n    return (\r\n        <Container className={classes.notesContainer}>\r\n            <Grid container direction=\"column\">\r\n                {displayedNotes.map((note: INote, index) => (\r\n                    <NotePanelPreview key={index} note={note}/>\r\n                ))}\r\n            </Grid>\r\n        </Container>\r\n    )\r\n};\r\n\r\nexport default NotesPreviewContainer;","import React, {useState} from 'react';\r\nimport NotesPanelHeader from './NotesPanelHeader';\r\nimport SearchBar from './SearchBar';\r\nimport NotesPreviewContainer from './NotesPreviewContainer';\r\n\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    panelContainer: {\r\n        height: '100vh',\r\n        maxHeight: '100vh',\r\n        backgroundColor: '#F8F8F8',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none',\r\n        }\r\n    },\r\n}));\r\n\r\nconst NotesPanel = () => {\r\n    const classes = useStyles();\r\n    const [searchQuery, setSearchQuery] = useState<string>('');\r\n\r\n    return (\r\n        <div className={classes.panelContainer}>\r\n            <NotesPanelHeader />\r\n            <SearchBar setSearchQuery={setSearchQuery}/>\r\n            <NotesPreviewContainer searchQuery={searchQuery} />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default NotesPanel;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\ninterface IMode {\r\n    lightMode: boolean;\r\n};\r\n\r\n// default state of the store\r\nconst initialState: IMode = {\r\n    lightMode: true,\r\n};\r\n\r\nexport const modeSlice = createSlice({\r\n    name: 'mode',\r\n    initialState,\r\n    reducers: {\r\n        // change the mode state\r\n        changeMode: (state) => {\r\n            const newMode = !state.lightMode;\r\n            state.lightMode = newMode;\r\n        }\r\n    },\r\n});\r\n\r\nexport const { changeMode } = modeSlice.actions;\r\nexport default modeSlice.reducer;","import axios from 'axios';\r\n\r\nconst localHostURL = 'http://localhost:5000';\r\n\r\n\r\n// API request to get the notes from database - private route => require accessToken to authorize\r\nexport const getNotes = async (accessToken: string) => {\r\n    // server has the access to the cookies in case access token is invalid\r\n    return axios.get(`/api/v1/note/getNotes`, {headers: { ContentType: 'application/json', Authorization: `Bearer ${accessToken}` }, withCredentials: true})\r\n}\r\n// API request to add new note - private route => require accessToken to authorize\r\nexport const addNote = async (title: string, content: string, preview: string, accessToken: string) => {\r\n    // server has the access to the cookies in case access token is invalid\r\n    return axios.post('/api/v1/note/addNote', {title, content, preview} ,{headers: { ContentType: 'application/json', Authorization: `Bearer ${accessToken}` }, withCredentials: true});\r\n};\r\n\r\n// API request to update a note - private route => require accessToken to authorize\r\nexport const updateNote = async (title: string, content: string, preview: string, accessToken: string, noteId: string) => {\r\n    // server has the access to the cookies in case access token is invalid\r\n    return axios.put(`/api/v1/note/editNote/${noteId}`, {title, content, preview}, {headers: { ContentType: 'application/json', Authorization: `Bearer ${accessToken}` }, withCredentials: true});\r\n};\r\n\r\n// API request to delete a note - private route => require accessToken to authorize\r\nexport const deleteNote = async (accessToken: string, noteId: string) => {\r\n    // server has the access to the cookies in case access token is invalid\r\n    return axios.delete(`/api/v1/note/deleteNote/${noteId}`, {headers: { ContentType: 'application/json', Authorization: `Bearer ${accessToken}` }, withCredentials: true});\r\n};","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport * as notesApi from '../../api/notesApi';\r\n\r\ntype Note = {\r\n    _id: string;\r\n    active?: boolean;\r\n    title: string;\r\n    content: string;\r\n    preview: string;\r\n    date: string;\r\n};\r\n\r\ninterface INotes {\r\n    notes: Array<Note>,\r\n    activeNote: Note;\r\n};\r\n\r\n// default state of the store\r\nconst initialState: INotes = {\r\n    notes: [],\r\n    // keeping track of the active note in order to display it in the panel\r\n    activeNote: null,\r\n};\r\n\r\n// calling api request to get the notes from the database\r\nexport const getNotes = createAsyncThunk(\r\n    'user/getNotesStatus', \r\n    async (accessToken: string, { rejectWithValue }) => {\r\n        try {\r\n            const response = await notesApi.getNotes(accessToken);\r\n            if(response.status === 401) return rejectWithValue({message: response.data.message, status: response.status});\r\n            return response;\r\n        } catch (error) {\r\n            return rejectWithValue({message: error.response.data.message, status: error.response.status});\r\n        };\r\n    },\r\n);\r\n\r\nexport const notesSlice = createSlice({\r\n    name: 'notes',\r\n    initialState,\r\n    reducers: {\r\n        // add note to the redux store\r\n        addNote: (state, action) => {\r\n            state.notes.push(action.payload);\r\n        },\r\n        // update note in the redux store\r\n        updateNote: (state, action) => {\r\n            // find the index of the updated note\r\n            const updatedNoteIndex = state.notes.findIndex((note) => note._id === action.payload._id);\r\n            // replace the old note with the new updated one\r\n            state.notes[updatedNoteIndex] = action.payload;\r\n        },\r\n        // delete note in the redux store\r\n        deleteNote: (state, action) => {\r\n            // find the index of the deleted note\r\n            const deletedNoteIndex = state.notes.findIndex((note) => note._id === action.payload._id);\r\n            // removing the note from the store\r\n            state.notes.splice(deletedNoteIndex, 1);\r\n            // setting the active note to default state - null\r\n            state.activeNote = null;\r\n        },\r\n        // set active note\r\n        setActive: (state, action) => {\r\n            const newActiveNote: Note = action.payload;\r\n            state.activeNote = newActiveNote;\r\n        },\r\n        // clean notes - setting the store to default state\r\n        cleanNotes: (state) => {\r\n            state.activeNote = null;\r\n            state.notes = [];\r\n        },\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder.addCase(getNotes.fulfilled, (state, action) => {\r\n            state.notes = action.payload.data.notes;\r\n        });\r\n    },\r\n});\r\n\r\nexport const { addNote, updateNote, deleteNote, setActive, cleanNotes } = notesSlice.actions;\r\nexport default notesSlice.reducer;","import React, {useState} from 'react';\r\nimport { Drawer, makeStyles } from '@material-ui/core';\r\nimport NotesPanelHeader from './NotesPanelHeader';\r\nimport SearchBar from './SearchBar';\r\nimport NotesPreviewContainer from './NotesPreviewContainer';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    drawer: {\r\n        width: '100vw',\r\n        height: '100%',\r\n    }\r\n}));\r\n\r\ntype Props = {\r\n    drawer: boolean;\r\n    setDrawer: React.Dispatch<React.SetStateAction<boolean>>;\r\n};\r\n\r\n\r\nconst DrawerNavigation = (props: Props) => {\r\n    const classes = useStyles();\r\n    const [drawer, setDrawer] = [props.drawer, props.setDrawer];\r\n    const [searchQuery, setSearchQuery] = useState<string>('');\r\n\r\n    const toggleDrawer = (open: boolean) => ( event: React.KeyboardEvent | React.MouseEvent ) => {\r\n        if (\r\n            event.type === 'keydown' &&\r\n            ((event as React.KeyboardEvent).key === 'Tab' ||\r\n            (event as React.KeyboardEvent).key === 'Shift')\r\n        ) return;\r\n\r\n        setDrawer(open);\r\n    };\r\n\r\n    // helper function to close the drawer\r\n    const helperToggleDrawer = () => {\r\n        setDrawer(false);\r\n    };\r\n \r\n    const list = () => (\r\n        <div role=\"presentation\" className={classes.drawer}>\r\n            <NotesPanelHeader toggleDrawer={helperToggleDrawer}/>\r\n            <SearchBar setSearchQuery={setSearchQuery}/>\r\n            <div role=\"presentation\" onClick={toggleDrawer(false)}>\r\n                <NotesPreviewContainer searchQuery={searchQuery} />\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div>\r\n          <Drawer anchor=\"left\" open={drawer} onClose={toggleDrawer(false)}>\r\n            {list()}\r\n          </Drawer>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default DrawerNavigation;","import React, { useState } from 'react';\r\nimport { Button, IconButton, Typography, makeStyles, Container } from '@material-ui/core';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { logoutRequest } from '../../redux/reducers/authenticate'; \r\nimport { changeMode } from '../../redux/reducers/mode';\r\nimport { AppDispatch } from '../../redux/store';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../redux/store';\r\nimport { cleanNotes } from '../../redux/reducers/notes';\r\n\r\nimport Brightness2Icon from '@material-ui/icons/Brightness2';\r\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\n\r\nimport withWidth from '@material-ui/core/withWidth';\r\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\r\n\r\nimport DrawerNavigation from './DrawerNavigation';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    navigationContainer: {\r\n        display: 'flex',\r\n        height: '10%',\r\n        alignItems: 'center',\r\n        maxWidth: 'none',\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: 'auto',\r\n            minHeight: '10%',\r\n        }\r\n    },\r\n    grow: {\r\n        flexGrow: 1,\r\n    },\r\n    authenticationButton: {\r\n        width: '100px',\r\n        marginLeft: theme.spacing(3),\r\n    },\r\n}));\r\n\r\nconst NoteNavigation = (props: {width: Breakpoint}) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch<AppDispatch>();\r\n    const [drawer, setDrawer] = useState<boolean>(false);\r\n    const { authenticated } = useSelector((state: RootState) => state.auth);\r\n    const { lightMode } = useSelector((state: RootState) => state.mode);\r\n\r\n    // call the Api request to logout\r\n    const handleLogOut = () => {\r\n        dispatch(logoutRequest({message: \"Logout request\"}))\r\n            .then(res => console.log(res))\r\n            // after being logout clear notes data in the redux store\r\n            .then(() => dispatch(cleanNotes()));\r\n    };\r\n\r\n    // handle change of the mode\r\n    const handleChangeMode = () => {\r\n        dispatch(changeMode())\r\n    };\r\n\r\n\r\n    return (\r\n        <Container className={classes.navigationContainer}>\r\n            {props.width === 'sm' || props.width === \"xs\" ? <IconButton color=\"primary\" onClick={() => setDrawer(previousState => !previousState)}><ArrowBackIosIcon /></IconButton> : <Typography variant=\"h4\" color=\"primary\">Awesome Notepad</Typography>}\r\n            <div className={classes.grow}>\r\n            </div>\r\n            <div>\r\n                <IconButton onClick={handleChangeMode} >\r\n                    {lightMode ? <Brightness2Icon color=\"primary\"/> : <Brightness7Icon color=\"primary\"/>}\r\n                </IconButton>\r\n                {!authenticated ? \r\n                    <Button color=\"primary\" variant=\"contained\" className={classes.authenticationButton} component={RouterLink} to=\"/login\">Login</Button>\r\n                    :\r\n                    <Button color=\"primary\" variant=\"contained\" className={classes.authenticationButton} onClick={handleLogOut}>Log Out</Button>\r\n                }\r\n            </div>\r\n            {props.width === 'sm' || props.width === \"xs\" ? <DrawerNavigation drawer={drawer} setDrawer={setDrawer}/> : null}\r\n        </Container>\r\n    )\r\n};\r\n\r\nexport default withWidth()(NoteNavigation);\r\n","import React, {useEffect} from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu, { MenuProps } from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { setTimeout } from 'timers';\r\n\r\nconst StyledMenu = withStyles({\r\n  paper: {\r\n    border: '1px solid #d3d4d5',\r\n  },\r\n})((props: MenuProps) => (\r\n  <Menu\r\n    elevation={0}\r\n    getContentAnchorEl={null}\r\n    anchorOrigin={{\r\n      vertical: 'bottom',\r\n      horizontal: 'center',\r\n    }}\r\n    transformOrigin={{\r\n      vertical: 'top',\r\n      horizontal: 'center',\r\n    }}\r\n    {...props}\r\n  />\r\n));\r\n\r\nconst StyledMenuItem = withStyles((theme) => ({\r\n  root: {\r\n    '&:focus': {\r\n      backgroundColor: theme.palette.primary.main,\r\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\r\n        color: theme.palette.common.white,\r\n      },\r\n    },\r\n  },\r\n}))(MenuItem);\r\n\r\nexport default function CustomizedMenus() {\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n\r\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if(!Boolean(anchorEl)) return;\r\n    setTimeout(() => {\r\n        const formatOptions = document.querySelectorAll('[data-edit-menu]');\r\n        const divs = document.querySelectorAll('.MuiListItemText-root');\r\n\r\n        divs.forEach((span) => {\r\n            const sp = span as HTMLElement;\r\n            sp.style.pointerEvents = 'none';\r\n        });\r\n        \r\n        formatOptions.forEach(option => {\r\n            const bt = option as HTMLElement;\r\n            if (bt.getAttribute('listener') !== 'true') {\r\n                option.addEventListener('click', (e) => {\r\n                    e.preventDefault();\r\n                    const btn = e.target as HTMLElement;\r\n                    const cmd_val = btn.getAttribute('data-edit-menu').split(':');\r\n                    document.execCommand(cmd_val[0], false, cmd_val[1]);\r\n                });\r\n            };\r\n        });\r\n    }, 0)\r\n\r\n  }, [anchorEl]);\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        aria-controls=\"customized-menu\"\r\n        aria-haspopup=\"true\"\r\n        variant=\"outlined\"\r\n        color=\"primary\"\r\n        onClick={handleClick}\r\n      >\r\n        Format\r\n      </Button>\r\n      <StyledMenu\r\n        id=\"customized-menu\"\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClick={handleClose}\r\n      >\r\n        <StyledMenuItem data-edit-menu=\"formatBlock:H1\">\r\n          <ListItemText primary=\"Header 1\" />\r\n        </StyledMenuItem>\r\n        <StyledMenuItem data-edit-menu=\"formatBlock:H2\">\r\n          <ListItemText primary=\"Header 2\" />\r\n        </StyledMenuItem>\r\n        <StyledMenuItem data-edit-menu=\"formatBlock:H3\">\r\n          <ListItemText primary=\"Header 3\" />\r\n        </StyledMenuItem>\r\n        <StyledMenuItem data-edit-menu=\"formatBlock:H4\">\r\n          <ListItemText primary=\"Header 4\" />\r\n        </StyledMenuItem>\r\n        <StyledMenuItem data-edit-menu=\"formatBlock:H5\">\r\n          <ListItemText primary=\"Header 5\" />\r\n        </StyledMenuItem>\r\n      </StyledMenu>\r\n    </div>\r\n  );\r\n}","import React, {useEffect} from 'react';\r\nimport { Button, IconButton, makeStyles, Container } from '@material-ui/core';\r\n\r\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\r\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\r\nimport FormatUnderlinedIcon from '@material-ui/icons/FormatUnderlined';\r\nimport FormatAlignJustifyIcon from '@material-ui/icons/FormatAlignJustify';\r\nimport FormatAlignLeftIcon from '@material-ui/icons/FormatAlignLeft';\r\nimport FormatAlignRightIcon from '@material-ui/icons/FormatAlignRight';\r\nimport FormatAlignCenterIcon from '@material-ui/icons/FormatAlignCenter';\r\nimport FormatListBulletedIcon from '@material-ui/icons/FormatListBulleted';\r\nimport FormatListNumberedIcon from '@material-ui/icons/FormatListNumbered';\r\n\r\nimport DropdownButtons from './DropdownButtons';\r\nimport { INote } from './NotesPreviewContainer';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    toolBarContainer: {\r\n        height: '10%',\r\n        maxWidth: 'none',\r\n        backgroundColor: '#F8F8F8',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        [theme.breakpoints.down('md')]: {\r\n            height: 'auto',\r\n            minHeight: '10%',\r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            display: 'block',\r\n        }\r\n    },\r\n    grow: {\r\n        flexGrow: 1,\r\n        minWidth: '30px',\r\n    },\r\n    saveButton: {\r\n        width: '100px',\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: 64,\r\n            fontSize: '0.7rem'\r\n        }\r\n    },\r\n    editButton: {\r\n        '& .MuiIconButton-label':{\r\n            pointerEvents: 'none'\r\n        },\r\n    },\r\n    editButtonsGroup: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap', \r\n        [theme.breakpoints.down('md')]: {\r\n            maxWidth: '380px'\r\n        }\r\n    },\r\n    buttonGroup: {\r\n        [theme.breakpoints.down('md')]: {\r\n            display: 'flex',\r\n            // justifyContent: 'flex-end'\r\n        },\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: '10px 0',\r\n        },\r\n    }\r\n}));\r\n\r\ninterface IProps {\r\n    saveFunction: () => void;\r\n    deleteFunction: () => void;\r\n    note: INote | null | undefined;\r\n}\r\n\r\nconst ToolBar = (props: IProps) => {\r\n    const classes = useStyles();\r\n    \r\n    // on component mount\r\n    useEffect(() => {\r\n        const editButtons = document.querySelectorAll('[data-edit]');\r\n        const spans = document.querySelectorAll('[data-edit] .MuiIconButton-label');\r\n        \r\n        // disabling clicking on the span\r\n        spans.forEach((span) => {\r\n            const sp = span as HTMLElement;\r\n            sp.style.pointerEvents = 'none';\r\n        });\r\n\r\n        // add event listener on click event\r\n        editButtons.forEach(button => {\r\n            const bt = button as HTMLButtonElement;\r\n            // if the button doesn't have an event listener yet\r\n            if (bt.getAttribute('listener') !== 'true') {\r\n                button.addEventListener('click', (e) => {\r\n                    e.preventDefault();\r\n                    const btn = e.target as HTMLElement;\r\n                    // get the command data from the button\r\n                    const cmd_val = btn.getAttribute('data-edit').split(':');\r\n                    // executing the command to format chosen text\r\n                    document.execCommand(cmd_val[0], false, cmd_val[1]);\r\n                });\r\n            };\r\n        });\r\n    }, []);\r\n    \r\n    return (\r\n        <Container className={classes.toolBarContainer}>\r\n            <div className={classes.editButtonsGroup}>\r\n                <IconButton data-edit=\"bold\" color=\"primary\" className={classes.editButton}><FormatBoldIcon/></IconButton>\r\n                <IconButton data-edit=\"italic\" color=\"primary\" className={classes.editButton}><FormatItalicIcon/></IconButton>\r\n                <IconButton data-edit=\"underline\" color=\"primary\" className={classes.editButton}><FormatUnderlinedIcon/></IconButton>\r\n                <IconButton data-edit=\"justifyLeft\" color=\"primary\" className={classes.editButton}><FormatAlignLeftIcon/></IconButton>\r\n                <IconButton data-edit=\"justifyCenter\" color=\"primary\" className={classes.editButton}><FormatAlignCenterIcon/></IconButton>\r\n                <IconButton data-edit=\"justifyRight\" color=\"primary\" className={classes.editButton}><FormatAlignRightIcon/></IconButton>\r\n                <IconButton data-edit=\"justifyFull\" color=\"primary\" className={classes.editButton}><FormatAlignJustifyIcon/></IconButton>\r\n                <IconButton data-edit=\"insertUnorderedList\" color=\"primary\" className={classes.editButton}><FormatListBulletedIcon/></IconButton>\r\n                <IconButton data-edit=\"insertOrderedList\" color=\"primary\" className={classes.editButton}><FormatListNumberedIcon/></IconButton>\r\n\r\n                <DropdownButtons />\r\n            </div>\r\n            <div className={classes.grow}></div>\r\n            <div className={classes.buttonGroup}>\r\n                { props.note !== null && props.note !== undefined && <Button color=\"secondary\" variant=\"contained\" className={classes.saveButton} onClick={props.deleteFunction} style={{marginRight: 10}}>Delete</Button> }\r\n                <Button color=\"primary\" variant=\"contained\" className={classes.saveButton} onClick={props.saveFunction}>Save</Button>\r\n            </div>\r\n        </Container>\r\n    )\r\n};\r\n\r\nexport default ToolBar;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useParams, useHistory } from 'react-router';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { Typography, makeStyles, Button } from '@material-ui/core';\r\nimport ToolBar from './ToolBar';\r\nimport noteStyles from '../../css/note.module.css';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { RootState, AppDispatch } from '../../redux/store';\r\nimport { addNote, updateNote, deleteNote } from '../../api/notesApi';\r\nimport { INote } from './NotesPreviewContainer';\r\nimport { addNote as addNoteReducer, updateNote as updateNoteReducer, setActive, deleteNote as deleteNoteReducer, cleanNotes } from '../../redux/reducers/notes';\r\nimport { unauthorized, updateAccessToken } from '../../redux/reducers/authenticate';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    noteContainer: {\r\n        height: 'calc(80% - 48px)',\r\n        maxHeight: 'calc(80% - 48px)',\r\n        padding: '24px',\r\n    },\r\n    date: {\r\n        marginTop: theme.spacing(5),\r\n    },\r\n    errorMessage: {\r\n        height: '90%',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    }\r\n}));\r\n\r\ninterface IParams {\r\n    id: string;\r\n};\r\n\r\nconst NoteContainer = () => {\r\n    const classes = useStyles();\r\n    const { id } = useParams<IParams>();\r\n    const [newNote, setNewNote] = useState<boolean>(false);\r\n    const [note, setNote] = useState<INote>(null);\r\n    const [noteContent, setNoteContent] = useState<string>('');\r\n    const [editDate, setEditDate] = useState<string>('');\r\n    const { accessToken } = useSelector((state: RootState) => state.auth);\r\n    const { notes } = useSelector((state: RootState) => state.notes);\r\n    const dispatch = useDispatch<AppDispatch>();\r\n    const history = useHistory();\r\n\r\n    // if the minutes are less than 10 add aditional '0'\r\n    const getFullMinutes = (min: number) => {\r\n        if(min < 10) return '0'+ min;\r\n        return min; \r\n    };\r\n\r\n    useEffect(() => {\r\n        if(id === \"new\") { \r\n            setNoteContent(''); \r\n            setNewNote(true);\r\n            setNote(null);\r\n            const currentDate = new Date();\r\n            const createDate = currentDate.getDate() + '.' + currentDate.getMonth() + '.' + currentDate.getFullYear() + ' ' + currentDate.getHours() + ':' + getFullMinutes(currentDate.getMinutes());\r\n            setEditDate(createDate);       \r\n        }\r\n        else {\r\n            setNewNote(false);\r\n            // find the note in the database\r\n            const displayedNote = notes.find((note: INote) => note._id === id);\r\n            setNote(displayedNote);\r\n            if(displayedNote === undefined) return;\r\n            setNoteContent(displayedNote.content);\r\n\r\n            // creating published date value\r\n            const date = new Date(displayedNote.date);\r\n            const publishedDate = date.getDate() + '.' + date.getMonth() + '.' + date.getFullYear() + ' ' + date.getHours() + ':' + getFullMinutes(date.getMinutes());\r\n            \r\n            setEditDate(publishedDate);\r\n            // set the current note to be active\r\n            dispatch(setActive(displayedNote));\r\n        };\r\n\r\n    }, [id, notes, dispatch]);\r\n\r\n    const getNoteContent = () => {\r\n        const editor = document.getElementById('note-editor');\r\n        // get the formated data in the editor\r\n        const content = editor.innerHTML;\r\n        // get the text data in the editor\r\n        const preview = editor.innerText;\r\n        const title = editor.innerText.substring(0, 20);\r\n        \r\n        // if it is new note than call API request to create new note\r\n        if(newNote) {\r\n            addNote(title, content, preview, accessToken)\r\n                .then((res) => {\r\n                   if(res.data.accessToken !== undefined) dispatch(updateAccessToken(res.data.accessToken));\r\n                   return res.data.savedNote;\r\n                })\r\n                .then((data) => {\r\n                    // add new note to the redux store\r\n                    dispatch(addNoteReducer(data));\r\n                    const {_id} = data;\r\n                    // redirect to the note URL\r\n                    history.push(`/${_id}`);\r\n                })\r\n                .catch((err) => {\r\n                    const status = err.response.status;\r\n                    if(status === 401) unauthorizedAccess();\r\n                });\r\n            return;\r\n        };\r\n\r\n        // if client wants to update the note call API request to update note\r\n        updateNote(title, content, preview, accessToken, id)\r\n            .then((res) => {\r\n                if(res.data.accessToken !== undefined) dispatch(updateAccessToken(res.data.accessToken));\r\n                return res.data.note\r\n            })\r\n            // update note in the database\r\n            .then((data) => dispatch(updateNoteReducer(data)))\r\n            .catch((err) => {\r\n                const status = err.response.status;\r\n                if(status === 401) unauthorizedAccess();\r\n            });\r\n        return;\r\n    };\r\n\r\n    // call API request to delete note\r\n    const deleteNoteFunction = () => {\r\n        deleteNote(accessToken, id)\r\n            .then(res => {\r\n                if(res.data.accessToken !== undefined) dispatch(updateAccessToken(res.data.accessToken));\r\n            })\r\n            // delete note in the redux store\r\n            .then(() => dispatch(deleteNoteReducer(note)))\r\n            // redirect to the main page\r\n            .then(() => history.push('/'))\r\n            .catch((err) => {\r\n                const status = err.response.status;\r\n                if(status === 401) unauthorizedAccess();\r\n            });\r\n    };\r\n\r\n    const unauthorizedAccess = () => {\r\n        dispatch(cleanNotes());\r\n        dispatch(unauthorized());\r\n    }\r\n\r\n    // on component mount display the the formated data of the note\r\n    useEffect(() => {\r\n        const editor = document.getElementById('note-editor');\r\n        if(editor === null) return;\r\n        editor.innerHTML = noteContent;\r\n    }, [newNote, noteContent])\r\n\r\n    if(note !== undefined) {\r\n        return (\r\n            <>\r\n                <ToolBar saveFunction={getNoteContent} deleteFunction={deleteNoteFunction} note={note}/>\r\n                <div className={classes.noteContainer}>\r\n                    <div className={noteStyles.editor} id=\"note-editor\" contentEditable=\"true\"></div> \r\n    \r\n                    <Typography variant=\"h6\" color=\"textSecondary\" className={classes.date}>Last Edit: {editDate}</Typography>\r\n                </div>\r\n            </>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className={classes.errorMessage}>\r\n                <Typography variant=\"h6\" align=\"center\">Unfortunately this note doesn't exist.</Typography>\r\n                <Typography variant=\"subtitle1\" align=\"center\" gutterBottom>Please, click on the button below to share your thoughts!</Typography>\r\n                <Button color=\"primary\" variant=\"contained\" component={RouterLink} to='/new'>Get started</Button>\r\n            </div>\r\n        )\r\n    }\r\n};  \r\n\r\nexport default NoteContainer;\r\n","import React from 'react';\r\nimport { Typography, makeStyles, Container, Button } from '@material-ui/core';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../redux/store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    getStartedContainer: {\r\n        height: '90%',\r\n        padding: 0,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        [theme.breakpoints.down('xs')]: {\r\n            padding: '0 5px'\r\n        }\r\n    },\r\n}));\r\n\r\nconst GetStarted = () => {\r\n    const classes = useStyles();\r\n    const { authenticated } = useSelector((state: RootState) => state.auth);\r\n    \r\n    return (\r\n        <Container className={classes.getStartedContainer}>\r\n            <Typography variant=\"h6\" align=\"center\">Click on the button to get started with us!</Typography>\r\n            <Typography variant=\"subtitle1\" align=\"center\" gutterBottom>Write down your thoughts...</Typography>\r\n            <Button color=\"primary\" variant=\"contained\" component={RouterLink} to={authenticated ? '/new' : '/login'}>Get started</Button>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default GetStarted\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../redux/store';\r\n\r\n// Private routes could be accessed only if the client is authenticated\r\nconst PrivateRoute = (props: any) => {\r\n    const {component: Component, ...rest} = props;\r\n    const { authenticated } = useSelector((state: RootState) => state.auth);\r\n\r\n    return (\r\n        <Route {...rest} render={() => (authenticated ? <Component /> : <Redirect to=\"/\" />)}/>\r\n    )\r\n};\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport NotesPanel from '../components/note/NotesPanel';\r\nimport NoteNavigation from '../components/note/NoteNavigation';\r\nimport NoteContainer from '../components/note/NoteContainer';\r\nimport GetStarted from '../components/note/GetStarted';\r\n\r\n// Private route is used to display the note editor - accessible only if the client is authenticated\r\nimport PrivateRoute from '../routes/PrivateRoute';\r\n\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport { Grid, makeStyles } from '@material-ui/core';\r\n \r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'block',\r\n        },\r\n    },\r\n    editor: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: '100vh',\r\n            overflow: 'auto'\r\n        },\r\n    },\r\n}));\r\n\r\nconst NotePage = () => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Grid container className={classes.container}>\r\n            <Grid item lg={3} md={4} sm={12}>\r\n                <NotesPanel />\r\n            </Grid>\r\n            <Grid item lg={9} md={8} sm={12} className={classes.editor}>\r\n                <NoteNavigation />\r\n                <Switch>\r\n                    <PrivateRoute exact path=\"/:id\" component={NoteContainer} />\r\n                    <Route path=\"/\" component={GetStarted} />\r\n                </Switch>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n};\r\n\r\nexport default NotePage;\r\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'; \nimport RestrictedRoute from './routes/RestrictedRoute';\n\nimport LoginPage from './pages/LoginPage';\nimport SignUpPage from './pages/SignUpPage';\nimport NotePage from './pages/NotePage';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AppDispatch, RootState } from './redux/store';\nimport { getNotes, cleanNotes } from './redux/reducers/notes';\nimport { unauthorized } from './redux/reducers/authenticate';\n\nconst App = () => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { accessToken } = useSelector((state: RootState) => state.auth);\n\n  // get the notes from the database on page load and store them in redux for easier access\n  dispatch(getNotes(accessToken))\n      .then((res: any) => {\n        const { status } = res.payload;\n        // if the response status is 401 clear stored data in redux\n        if(status === 401) {\n          dispatch(unauthorized());\n          dispatch(cleanNotes());\n        };\n      })\n      .catch(err => console.log(err.response));\n\n  return (\n    <>\n    <Router>\n      <Switch>\n        <RestrictedRoute exact path=\"/login\" component={LoginPage} />\n        <RestrictedRoute exact path=\"/signup\" component={SignUpPage} />\n        <Route path=\"/\" component={NotePage} />\n      </Switch>\n    </Router>\n    </>\n  );\n};\n\nexport default App;","import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\r\nimport authenticatonReducer from './reducers/authenticate';\r\nimport modeReducer from './reducers/mode';\r\nimport notesReducer from './reducers/notes';\r\n\r\nimport { persistReducer} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n};\r\n\r\nconst reducer = combineReducers({\r\n    auth: authenticatonReducer,\r\n    mode: modeReducer,\r\n    notes: notesReducer,\r\n});\r\n\r\n// in order to not loose all the data on every page load, storing data in localStorage\r\nconst persistedReducer = persistReducer(persistConfig, reducer);\r\n\r\nexport const store = configureStore({\r\n  reducer: persistedReducer,\r\n  middleware: (getDefaultMiddleware) =>\r\n  getDefaultMiddleware({\r\n    serializableCheck: false,\r\n  }),\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { createTheme } from '@material-ui/core';\nimport { ThemeProvider } from '@material-ui/styles';\n\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { persistStore } from 'redux-persist';\n\n\n// create custom theme\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#009788',\n    },\n  },\n  typography: {\n    fontWeightRegular: 'lighter',\n  }\n});\n\n// presisting data in localStorage\nlet persistor = persistStore(store);\n\nReactDOM.render(\n    <ThemeProvider theme={theme}>\n          <Provider store={store}>\n              <PersistGate loading={null} persistor={persistor}>\n                  <App />\n              </PersistGate>\n          </Provider>\n    </ThemeProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}