(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{156:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),i=n.n(c),o=n(16),s=n(15),u=n(33),l=n(3),d=n(13),j=n(2),b=["component"],p=function(e){var t=e.component,n=Object(l.a)(e,b),a=Object(d.c)((function(e){return e.auth})).authenticated;return Object(j.jsx)(s.b,Object(u.a)(Object(u.a)({},n),{},{render:function(){return a?Object(j.jsx)(s.a,{to:"/"}):Object(j.jsx)(t,{})}}))},m=n(11),h=n.n(m),f=n(17),O=n(12),x=n(194),g=n(197),v=n(211),w=n(44),y=n(208),k=n(199),N=n(200),C=n(65),S=n.n(C),B=n(31),T=n(43),E=n.n(T),M=function(){var e=Object(f.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.a.post("/api/v1/authentication/login",{username:t,password:n},{withCredentials:!0}).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){if(e.response)return{data:e.response.data,status:e.response.status};throw e.request?new Error(e.request):new Error(e.message)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(h.a.mark((function e(t,n,a,r,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.a.post("/api/v1/authentication/signup",{username:t,password:n,email:a,firstName:r,lastName:c},{withCredentials:!0}).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){if(e.response)return{data:e.response.data,status:e.response.status};throw e.request?new Error(e.request):new Error(e.message)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),q=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.a.delete("/api/v1/authentication/logout",{withCredentials:!0}).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){if(e.response)return{data:e.response.data,status:e.response.status};throw e.request?new Error(e.request):new Error(e.message)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=Object(B.b)("user/loginRequestStatus",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a,r,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,r=t.username,c=t.password,e.next=5,M(r,c);case 5:if(401!==(i=e.sent).status){e.next=8;break}return e.abrupt("return",a({message:i.data.message,status:i.status}));case 8:return console.log(i),e.abrupt("return",i);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",e.t0);case 15:case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()),A=Object(B.b)("user/registerRequestStatus",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a,r,c,i,o,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,r=t.username,c=t.password,i=t.email,o=t.firstName,s=t.lastName,e.next=5,D(r,c,i,o,s);case 5:if(400!==(u=e.sent).status){e.next=8;break}return e.abrupt("return",a({message:u.data.message,status:u.status}));case 8:return e.abrupt("return",u);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",e.t0);case 14:case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()),H=Object(B.b)("user/logoutRequestStatus",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,r=t.message,e.next=5,q();case 5:return c=e.sent,console.log(r),e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 13:case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),W=Object(B.c)({name:"authenticate",initialState:{authenticated:!1,accessToken:"",id:""},reducers:{updateAccessToken:function(e,t){e.accessToken=t.payload},unauthorized:function(e){e.authenticated=!1,e.accessToken="",e.id=""}},extraReducers:function(e){e.addCase(I.fulfilled,(function(e,t){e.authenticated=!0,e.id=t.payload.data.id,e.accessToken=t.payload.data.accessToken})),e.addCase(I.rejected,(function(e,t){e.authenticated=!1})),e.addCase(A.fulfilled,(function(e,t){e.authenticated=!0,e.id=t.payload.data.id,e.accessToken=t.payload.data.accessToken})),e.addCase(A.rejected,(function(e,t){e.authenticated=!1})),e.addCase(H.fulfilled,(function(e,t){e.authenticated=!1,e.id="",e.accessToken=""}))}}),F=W.actions,L=F.unauthorized,z=F.updateAccessToken,P=W.reducer,_=Object(x.a)((function(e){return{container:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},link:{textDecoration:"none",color:"black","&:hover":{color:"#587D9F"}}}})),R=function(){var e=Object(a.useState)({error:!1,message:""}),t=Object(O.a)(e,2),n=t[0],r=t[1],c=_(),i=Object(s.g)(),u=Object(d.b)(),l=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target,a=n.username.value,c=n.password.value,""!==a&&""!==c){e.next=7;break}return r({error:!0,message:"Fields are requried"}),e.abrupt("return");case 7:u(I({username:a,password:c})).then((function(e){401!==e.payload.status?i.push("/"):r({error:!0,message:e.payload.message})}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(g.a,{component:"main",maxWidth:"xs",className:c.container,children:Object(j.jsxs)("div",{className:c.paper,children:[Object(j.jsx)(v.a,{className:c.avatar,children:Object(j.jsx)(S.a,{})}),Object(j.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign in"}),n.error&&Object(j.jsx)(w.a,{color:"error",align:"center",variant:"body1",children:n.message}),Object(j.jsxs)("form",{className:c.form,noValidate:!0,onSubmit:l,children:[Object(j.jsx)(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",type:"text",name:"username",autoFocus:!0}),Object(j.jsx)(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(j.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,children:"Sign In"}),Object(j.jsx)(N.a,{container:!0,children:Object(j.jsx)(N.a,{item:!0,children:Object(j.jsx)(o.b,{to:"/signup",className:c.link,children:Object(j.jsx)(w.a,{variant:"body2",children:"Don't have an account? Sign Up"})})})})]})]})})},G=function(){return Object(j.jsx)(R,{})},Q=Object(x.a)((function(e){return{container:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},link:{textDecoration:"none",color:"black","&:hover":{color:"#587D9F"}}}})),U=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),i=Object(O.a)(c,2),u=i[0],l=i[1],b=Object(a.useState)({error:!1,message:""}),p=Object(O.a)(b,2),m=p[0],x=p[1],C=Q(),B=Object(d.b)(),T=Object(s.g)(),E=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,a,r,c,i,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),u){e.next=4;break}return x({error:!0,message:"Passwords do not match!"}),e.abrupt("return");case 4:if(n=t.target,a=n.email.value,r=n.firstName.value,c=n.lastName.value,i=n.username.value,o=n.password.value,""!==a&&""!==r&&""!==c&&""!==i&&""!==o){e.next=14;break}return x({error:!0,message:"Fields are requried!"}),e.abrupt("return");case 14:if(s=n.comfirmpassword.value,o===s){e.next=19;break}return x({error:!0,message:"Passwords do not match"}),e.abrupt("return");case 19:B(A({username:i,password:o,email:a,firstName:r,lastName:c})).then((function(e){var t=e.payload,n=t.message;400!==t.status?T.push("/"):x({error:!0,message:n})})).catch((function(e){return console.log(e)}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(g.a,{component:"main",maxWidth:"xs",className:C.container,children:Object(j.jsxs)("div",{className:C.paper,children:[Object(j.jsx)(v.a,{className:C.avatar,children:Object(j.jsx)(S.a,{})}),Object(j.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign up"}),m.error&&Object(j.jsx)(w.a,{color:"error",align:"center",variant:"body1",children:m.message}),Object(j.jsxs)("form",{className:C.form,noValidate:!0,onSubmit:E,children:[Object(j.jsxs)(N.a,{container:!0,spacing:2,children:[Object(j.jsx)(N.a,{item:!0,xs:12,sm:6,children:Object(j.jsx)(y.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(j.jsx)(N.a,{item:!0,xs:12,sm:6,children:Object(j.jsx)(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})}),Object(j.jsx)(N.a,{item:!0,xs:12,children:Object(j.jsx)(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",type:"text"})}),Object(j.jsx)(N.a,{item:!0,xs:12,children:Object(j.jsx)(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(j.jsx)(N.a,{item:!0,xs:12,children:Object(j.jsx)(y.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){r(e.target.value)}})}),Object(j.jsx)(N.a,{item:!0,xs:12,children:Object(j.jsx)(y.a,{error:!u,variant:"outlined",required:!0,fullWidth:!0,name:"comfirmpassword",label:"Confirm Password",type:"password",id:"confirmpassword",onChange:function(e){e.target.value===n?l(!0):l(!1)}})})]}),Object(j.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:C.submit,children:"Sign Up"}),Object(j.jsx)(N.a,{container:!0,children:Object(j.jsx)(N.a,{item:!0,children:Object(j.jsx)(o.b,{to:"/login",className:C.link,children:Object(j.jsx)(w.a,{variant:"body2",children:"Already have an account? Sign in"})})})})]})]})})},V=function(){return Object(j.jsx)(U,{})},Y=n(8),J=n(201),K=n(94),X=n.n(K),Z=Object(x.a)((function(){return{panelHeaderContainer:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:"10%",width:"100%"},addButton:{position:"absolute",top:"50%",right:"20px",transform:"translate(-50%, -50%)"}}})),$=function(e){var t=Z(),n=e.toggleDrawer;return Object(a.useEffect)((function(){void 0!==n&&document.querySelectorAll("#add-new-note")[1].addEventListener("click",(function(){n()}))}),[n]),Object(j.jsxs)("div",{className:t.panelHeaderContainer,children:[Object(j.jsx)(w.a,{variant:"h5",align:"center",color:"primary",children:"Notes"}),Object(j.jsx)(J.a,{className:t.addButton,color:"primary",size:"medium",id:"add-new-note",component:o.b,to:"/new",children:Object(j.jsx)(X.a,{style:{fontSize:"2rem"}})})]})},ee=n(202),te=n(96),ne=n.n(te),ae=n(95),re=n.n(ae),ce=Object(x.a)((function(e){return{searchBarContainer:{width:"100%",height:"10%"},searchBar:{width:"80%",margin:"auto",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",backgroundColor:"white",color:"white"}}})),ie=function(e){var t=ce(),n=Object(a.useCallback)(re()((function(t){e.setSearchQuery(t.target.value)}),300),[]);return Object(j.jsx)(N.a,{container:!0,className:t.searchBarContainer,children:Object(j.jsx)(y.a,{className:t.searchBar,id:"search-input",placeholder:"Search...",variant:"outlined",onChange:n,InputProps:{startAdornment:Object(j.jsx)(ee.a,{position:"start",children:Object(j.jsx)(ne.a,{})})}})})},oe=n(37),se=n(203),ue=n(204),le=n(205),de=n(4),je=Object(x.a)((function(e){return{notePreviewContainer:{margin:"20px 0",padding:"0",textDecoration:"none",color:"black"},noteCard:{color:e.palette.common.black,borderColor:e.palette.primary.main,border:"2px solid",backgroundColor:e.palette.primary.light,"&:hover":{boxShadow:"0px 4px 10px 0px rgba(0,0,0,0.64)"},"& .MuiCardHeader-subheader":{color:e.palette.common.black}},activeLink:{borderLeft:"7px solid ".concat(e.palette.primary.main)},noteContent:{padding:"0 16px"}}})),be=function(e){var t=je(),n=e.note,r=Object(a.useState)(!1),c=Object(O.a)(r,2),i=c[0],s=c[1],u=Object(d.c)((function(e){return e.notes})).activeNote;Object(a.useEffect)((function(){s(u===n)}),[u,n]);var l,b=new Date(n.date),p=b.getDate()+"."+b.getMonth()+"."+b.getFullYear()+" "+b.getHours()+":"+((l=b.getMinutes())<10?"0"+l:l);return Object(j.jsx)(g.a,{className:t.notePreviewContainer,component:o.b,to:"".concat(n._id),children:Object(j.jsxs)(se.a,{elevation:3,className:Object(de.a)(t.noteCard,i?t.activeLink:null),children:[Object(j.jsx)(ue.a,{title:n.title.length>20?n.title.substring(0,17)+"...":n.title,subheader:p}),Object(j.jsx)(le.a,{className:t.noteContent,children:Object(j.jsx)(w.a,{variant:"body2",children:n.preview.length>150?n.preview.substring(0,147)+"...":n.preview})})]})})},pe=Object(x.a)((function(e){return{notesContainer:{height:"80%",maxHeight:"80%",width:"80%",padding:"0",overflow:"auto",backgroundColor:e.palette.primary.dark}}})),me=function(e){var t=pe(),n=Object(d.c)((function(e){return e.notes})).notes,r=Object(a.useState)([]),c=Object(O.a)(r,2),i=c[0],o=c[1];Object(a.useEffect)((function(){""===e.searchQuery&&o(n);var t=new RegExp(e.searchQuery,"i");s(t)}),[e.searchQuery,n]);var s=function(e){var t=Object(oe.a)(n).filter((function(t){return e.test(t.preview)}));o(t)};return Object(j.jsx)(g.a,{className:t.notesContainer,children:Object(j.jsx)(N.a,{container:!0,direction:"column",children:i.map((function(e,t){return Object(j.jsx)(be,{note:e},t)}))})})},he=Object(x.a)((function(e){return{panelContainer:Object(Y.a)({height:"100vh",maxHeight:"100vh",backgroundColor:e.palette.primary.dark,display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.down("sm"),{display:"none"})}})),fe=function(){var e=he(),t=Object(a.useState)(""),n=Object(O.a)(t,2),r=n[0],c=n[1];return Object(j.jsxs)("div",{className:e.panelContainer,children:[Object(j.jsx)($,{}),Object(j.jsx)(ie,{setSearchQuery:c}),Object(j.jsx)(me,{searchQuery:r})]})},Oe=Object(B.c)({name:"mode",initialState:{lightMode:!0},reducers:{changeMode:function(e){var t=!e.lightMode;e.lightMode=t}}}),xe=Oe.actions.changeMode,ge=Oe.reducer,ve=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.a.get("/api/v1/note/getNotes",{headers:{ContentType:"application/json",Authorization:"Bearer ".concat(t)},withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(f.a)(h.a.mark((function e(t,n,a,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.a.post("/api/v1/note/addNote",{title:t,content:n,preview:a},{headers:{ContentType:"application/json",Authorization:"Bearer ".concat(r)},withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ye=function(){var e=Object(f.a)(h.a.mark((function e(t,n,a,r,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.a.put("/api/v1/note/editNote/".concat(c),{title:t,content:n,preview:a},{headers:{ContentType:"application/json",Authorization:"Bearer ".concat(r)},withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),ke=function(){var e=Object(f.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.a.delete("/api/v1/note/deleteNote/".concat(n),{headers:{ContentType:"application/json",Authorization:"Bearer ".concat(t)},withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ne=Object(B.b)("user/getNotesStatus",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,ve(t);case 4:if(401!==(r=e.sent).status){e.next=7;break}return e.abrupt("return",a({message:r.data.message,status:r.status}));case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",a({message:e.t0.response.data.message,status:e.t0.response.status}));case 13:case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),Ce=Object(B.c)({name:"notes",initialState:{notes:[],activeNote:null},reducers:{addNote:function(e,t){e.notes.push(t.payload)},updateNote:function(e,t){var n=e.notes.findIndex((function(e){return e._id===t.payload._id}));e.notes[n]=t.payload},deleteNote:function(e,t){var n=e.notes.findIndex((function(e){return e._id===t.payload._id}));e.notes.splice(n,1),e.activeNote=null},setActive:function(e,t){var n=t.payload;e.activeNote=n},unsetActive:function(e){e.activeNote=null},cleanNotes:function(e){e.activeNote=null,e.notes=[]}},extraReducers:function(e){e.addCase(Ne.fulfilled,(function(e,t){e.notes=t.payload.data.notes}))}}),Se=Ce.actions,Be=Se.addNote,Te=Se.updateNote,Ee=Se.deleteNote,Me=Se.setActive,De=Se.cleanNotes,qe=Se.unsetActive,Ie=Ce.reducer,Ae=n(98),He=n.n(Ae),We=n(99),Fe=n.n(We),Le=n(97),ze=n.n(Le),Pe=n(212),_e=n(210),Re=Object(x.a)((function(e){return{drawer:{width:"100vw",height:"100%",backgroundColor:e.palette.primary.dark}}})),Ge=function(e){var t=Re(),n=[e.drawer,e.setDrawer],r=n[0],c=n[1],i=Object(a.useState)(""),o=Object(O.a)(i,2),s=o[0],u=o[1],l=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&c(e)}},d=function(){c(!1)};return Object(j.jsx)("div",{children:Object(j.jsx)(_e.a,{anchor:"left",open:r,onClose:l(!1),children:Object(j.jsxs)("div",{role:"presentation",className:t.drawer,children:[Object(j.jsx)($,{toggleDrawer:d}),Object(j.jsx)(ie,{setSearchQuery:u}),Object(j.jsx)("div",{role:"presentation",onClick:l(!1),children:Object(j.jsx)(me,{searchQuery:s})})]})})})},Qe=Object(x.a)((function(e){return{navigationContainer:Object(Y.a)({display:"flex",height:"10%",alignItems:"center",maxWidth:"none"},e.breakpoints.down("sm"),{height:"auto",minHeight:"10%"}),grow:{flexGrow:1},authenticationButton:{width:"100px",marginLeft:e.spacing(3)}}})),Ue=Object(Pe.a)()((function(e){var t=Qe(),n=Object(d.b)(),r=Object(a.useState)(!1),c=Object(O.a)(r,2),i=c[0],s=c[1],u=Object(d.c)((function(e){return e.auth})).authenticated,l=Object(d.c)((function(e){return e.mode})).lightMode;return Object(j.jsxs)(g.a,{className:t.navigationContainer,children:["sm"===e.width||"xs"===e.width?Object(j.jsx)(J.a,{color:"primary",onClick:function(){return s((function(e){return!e}))},children:Object(j.jsx)(ze.a,{})}):Object(j.jsx)(w.a,{variant:"h4",color:"primary",children:"Awesome Notepad"}),Object(j.jsx)("div",{className:t.grow}),Object(j.jsxs)("div",{children:[Object(j.jsx)(J.a,{onClick:function(){n(xe())},children:l?Object(j.jsx)(He.a,{color:"primary"}):Object(j.jsx)(Fe.a,{color:"primary"})}),u?Object(j.jsx)(k.a,{color:"primary",variant:"contained",className:t.authenticationButton,onClick:function(){n(H({message:"Logout request"})).then((function(e){return console.log(e)})).then((function(){return n(De())}))},children:"Log Out"}):Object(j.jsx)(k.a,{color:"primary",variant:"contained",className:t.authenticationButton,component:o.b,to:"/login",children:"Login"})]}),"sm"===e.width||"xs"===e.width?Object(j.jsx)(Ge,{drawer:i,setDrawer:s}):null]})})),Ve=n(101),Ye=n.n(Ve),Je=n(102),Ke=n.n(Je),Xe=n(103),Ze=n.n(Xe),$e=n(107),et=n.n($e),tt=n(104),nt=n.n(tt),at=n(106),rt=n.n(at),ct=n(105),it=n.n(ct),ot=n(108),st=n.n(ot),ut=n(109),lt=n.n(ut),dt=n(5),jt=n(113),bt=n(213),pt=n(206),mt=n(100),ht=Object(dt.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(j.jsx)(jt.a,Object(u.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),ft=Object(dt.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}},backgroundColor:e.palette.primary.dark,color:e.palette.common.black}}}))(bt.a);function Ot(){var e=r.a.useState(null),t=Object(O.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){Boolean(n)&&Object(mt.setTimeout)((function(){var e=document.querySelectorAll("[data-edit-menu]");document.querySelectorAll(".MuiListItemText-root").forEach((function(e){e.style.pointerEvents="none"})),e.forEach((function(e){"true"!==e.getAttribute("listener")&&e.addEventListener("click",(function(e){e.preventDefault();var t=e.target.getAttribute("data-edit-menu").split(":");document.execCommand(t[0],!1,t[1])}))}))}),0)}),[n]),Object(j.jsxs)("div",{children:[Object(j.jsx)(k.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"outlined",color:"primary",onClick:function(e){c(e.currentTarget)},children:"Format"}),Object(j.jsxs)(ht,{id:"customized-menu",anchorEl:n,open:Boolean(n),onClick:function(){c(null)},children:[Object(j.jsx)(ft,{"data-edit-menu":"formatBlock:H1",children:Object(j.jsx)(pt.a,{primary:"Header 1"})}),Object(j.jsx)(ft,{"data-edit-menu":"formatBlock:H2",children:Object(j.jsx)(pt.a,{primary:"Header 2"})}),Object(j.jsx)(ft,{"data-edit-menu":"formatBlock:H3",children:Object(j.jsx)(pt.a,{primary:"Header 3"})}),Object(j.jsx)(ft,{"data-edit-menu":"formatBlock:H4",children:Object(j.jsx)(pt.a,{primary:"Header 4"})}),Object(j.jsx)(ft,{"data-edit-menu":"formatBlock:H5",children:Object(j.jsx)(pt.a,{primary:"Header 5"})})]})]})}var xt=Object(x.a)((function(e){var t,n;return{toolBarContainer:(t={height:"10%",maxWidth:"none",backgroundColor:e.palette.primary.dark,display:"flex",alignItems:"center"},Object(Y.a)(t,e.breakpoints.down("md"),{height:"auto",minHeight:"10%"}),Object(Y.a)(t,e.breakpoints.down("xs"),{display:"block"}),t),grow:{flexGrow:1,minWidth:"30px"},saveButton:Object(Y.a)({width:"100px"},e.breakpoints.down("xs"),{width:64,fontSize:"0.7rem"}),editButton:{"& .MuiIconButton-label":{pointerEvents:"none"}},editButtonsGroup:Object(Y.a)({display:"flex",alignItems:"center",flexWrap:"wrap"},e.breakpoints.down("md"),{maxWidth:"380px"}),buttonGroup:(n={},Object(Y.a)(n,e.breakpoints.down("md"),{display:"flex"}),Object(Y.a)(n,e.breakpoints.down("sm"),{padding:"10px 0"}),n)}})),gt=function(e){var t=xt();return Object(a.useEffect)((function(){var e=document.querySelectorAll("[data-edit]");document.querySelectorAll("[data-edit] .MuiIconButton-label").forEach((function(e){e.style.pointerEvents="none"})),e.forEach((function(e){"true"!==e.getAttribute("listener")&&e.addEventListener("click",(function(e){e.preventDefault();var t=e.target.getAttribute("data-edit").split(":");document.execCommand(t[0],!1,t[1])}))}))}),[]),Object(j.jsxs)(g.a,{className:t.toolBarContainer,children:[Object(j.jsxs)("div",{className:t.editButtonsGroup,children:[Object(j.jsx)(J.a,{"data-edit":"bold",color:"primary",className:t.editButton,children:Object(j.jsx)(Ye.a,{})}),Object(j.jsx)(J.a,{"data-edit":"italic",color:"primary",className:t.editButton,children:Object(j.jsx)(Ke.a,{})}),Object(j.jsx)(J.a,{"data-edit":"underline",color:"primary",className:t.editButton,children:Object(j.jsx)(Ze.a,{})}),Object(j.jsx)(J.a,{"data-edit":"justifyLeft",color:"primary",className:t.editButton,children:Object(j.jsx)(nt.a,{})}),Object(j.jsx)(J.a,{"data-edit":"justifyCenter",color:"primary",className:t.editButton,children:Object(j.jsx)(it.a,{})}),Object(j.jsx)(J.a,{"data-edit":"justifyRight",color:"primary",className:t.editButton,children:Object(j.jsx)(rt.a,{})}),Object(j.jsx)(J.a,{"data-edit":"justifyFull",color:"primary",className:t.editButton,children:Object(j.jsx)(et.a,{})}),Object(j.jsx)(J.a,{"data-edit":"insertUnorderedList",color:"primary",className:t.editButton,children:Object(j.jsx)(st.a,{})}),Object(j.jsx)(J.a,{"data-edit":"insertOrderedList",color:"primary",className:t.editButton,children:Object(j.jsx)(lt.a,{})}),Object(j.jsx)(Ot,{})]}),Object(j.jsx)("div",{className:t.grow}),Object(j.jsxs)("div",{className:t.buttonGroup,children:[null!==e.note&&void 0!==e.note&&Object(j.jsx)(k.a,{color:"secondary",variant:"contained",className:t.saveButton,onClick:e.deleteFunction,style:{marginRight:10},children:"Delete"}),Object(j.jsx)(k.a,{color:"primary",variant:"contained",className:t.saveButton,onClick:e.saveFunction,children:"Save"})]})]})},vt=n(73),wt=n.n(vt),yt=Object(x.a)((function(e){return{noteContainer:{height:"calc(80% - 48px)",maxHeight:"calc(80% - 48px)",padding:"24px"},date:{marginTop:e.spacing(5),color:e.palette.common.black},errorMessage:{height:"90%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}})),kt=function(){var e=yt(),t=Object(s.h)().id,n=Object(a.useState)(!1),r=Object(O.a)(n,2),c=r[0],i=r[1],u=Object(a.useState)(null),l=Object(O.a)(u,2),b=l[0],p=l[1],m=Object(a.useState)(""),h=Object(O.a)(m,2),f=h[0],x=h[1],g=Object(a.useState)(""),v=Object(O.a)(g,2),y=v[0],N=v[1],C=Object(d.c)((function(e){return e.auth})).accessToken,S=Object(d.c)((function(e){return e.notes})).notes,B=Object(d.c)((function(e){return e.mode})).lightMode,T=Object(d.b)(),E=Object(s.g)(),M=function(e){return e<10?"0"+e:e};Object(a.useEffect)((function(){if("new"===t){x(""),i(!0),p(null);var e=new Date,n=e.getDate()+"."+e.getMonth()+"."+e.getFullYear()+" "+e.getHours()+":"+M(e.getMinutes());N(n),T(qe())}else{i(!1);var a=S.find((function(e){return e._id===t}));if(p(a),void 0===a)return;x(a.content);var r=new Date(a.date),c=r.getDate()+"."+r.getMonth()+"."+r.getFullYear()+" "+r.getHours()+":"+M(r.getMinutes());N(c),T(Me(a))}}),[t,S,T]);var D=function(){T(De()),T(L())};return Object(a.useEffect)((function(){var e=document.getElementById("note-editor");null!==e&&(e.innerHTML=f)}),[c,f]),void 0!==b?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(gt,{saveFunction:function(){var e=document.getElementById("note-editor"),n=e.innerHTML,a=e.innerText,r=e.innerText.substring(0,20);c?we(r,n,a,C).then((function(e){return void 0!==e.data.accessToken&&T(z(e.data.accessToken)),e.data.savedNote})).then((function(e){T(Be(e));var t=e._id;E.push("/".concat(t))})).catch((function(e){401===e.response.status&&D()})):ye(r,n,a,C,t).then((function(e){return void 0!==e.data.accessToken&&T(z(e.data.accessToken)),e.data.note})).then((function(e){return T(Te(e))})).catch((function(e){401===e.response.status&&D()}))},deleteFunction:function(){ke(C,t).then((function(e){void 0!==e.data.accessToken&&T(z(e.data.accessToken))})).then((function(){return T(Ee(b))})).then((function(){return E.push("/")})).catch((function(e){401===e.response.status&&D()}))},note:b}),Object(j.jsxs)("div",{className:e.noteContainer,children:[Object(j.jsx)("div",{className:Object(de.a)(wt.a.editor,B?null:wt.a.darkMode),id:"note-editor",contentEditable:"true"}),Object(j.jsxs)(w.a,{variant:"h6",className:e.date,children:["Last Edit: ",y]})]})]}):Object(j.jsxs)("div",{className:e.errorMessage,children:[Object(j.jsx)(w.a,{variant:"h6",align:"center",children:"Unfortunately this note doesn't exist."}),Object(j.jsx)(w.a,{variant:"subtitle1",align:"center",gutterBottom:!0,children:"Please, click on the button below to share your thoughts!"}),Object(j.jsx)(k.a,{color:"primary",variant:"contained",component:o.b,to:"/new",children:"Get started"})]})},Nt=Object(x.a)((function(e){var t;return{getStartedContainer:(t={height:"90%",padding:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},Object(Y.a)(t,e.breakpoints.down("xs"),{padding:"0 5px"}),Object(Y.a)(t,"color",e.palette.common.black),t)}})),Ct=function(){var e=Nt(),t=Object(d.c)((function(e){return e.auth})).authenticated;return Object(j.jsxs)(g.a,{className:e.getStartedContainer,children:[Object(j.jsx)(w.a,{variant:"h6",align:"center",children:"Click on the button to get started with us!"}),Object(j.jsx)(w.a,{variant:"subtitle1",align:"center",gutterBottom:!0,children:"Write down your thoughts..."}),Object(j.jsx)(k.a,{color:"primary",variant:"contained",component:o.b,to:t?"/new":"/login",children:"Get started"})]})},St=["component"],Bt=function(e){var t=e.component,n=Object(l.a)(e,St),a=Object(d.c)((function(e){return e.auth})).authenticated;return a||alert("Sign In Please."),Object(j.jsx)(s.b,Object(u.a)(Object(u.a)({},n),{},{render:function(){return a?Object(j.jsx)(t,{}):Object(j.jsx)(s.a,{to:"/"})}}))},Tt=Object(x.a)((function(e){return{container:Object(Y.a)({backgroundColor:e.palette.primary.light},e.breakpoints.down("sm"),{display:"block"}),editor:Object(Y.a)({},e.breakpoints.down("sm"),{height:"100vh",overflow:"auto"})}})),Et=function(){var e=Tt();return Object(j.jsxs)(N.a,{container:!0,className:e.container,children:[Object(j.jsx)(N.a,{item:!0,lg:3,md:4,sm:12,children:Object(j.jsx)(fe,{})}),Object(j.jsxs)(N.a,{item:!0,lg:9,md:8,sm:12,className:e.editor,children:[Object(j.jsx)(Ue,{}),Object(j.jsxs)(s.d,{children:[Object(j.jsx)(Bt,{exact:!0,path:"/:id",component:kt}),Object(j.jsx)(s.b,{path:"/",component:Ct})]})]})]})},Mt=n(112),Dt=n(207),qt=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth})).accessToken,n=Object(d.c)((function(e){return e.mode})).lightMode;e(Ne(t)).then((function(t){401===t.payload.status&&(e(L()),e(De()))})).catch((function(e){return console.log(e.response)}));var a=Object(Mt.a)({palette:n?{primary:{main:"#009788",dark:"#F8F8F8",light:"#ffffff"}}:{primary:{main:"#009788",dark:"#2a2d37",light:"#22252d"},common:{black:"#ffffff"}},typography:{fontWeightRegular:"lighter"}});return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(Dt.a,{theme:a,children:Object(j.jsx)(o.a,{children:Object(j.jsxs)(s.d,{children:[Object(j.jsx)(p,{exact:!0,path:"/login",component:G}),Object(j.jsx)(p,{exact:!0,path:"/signup",component:V}),Object(j.jsx)(s.b,{path:"/",component:Et})]})})})})},It=n(25),At=n(67),Ht=n(110),Wt={key:"root",storage:n.n(Ht).a},Ft=Object(It.b)({auth:P,mode:ge,notes:Ie}),Lt=Object(At.a)(Wt,Ft),zt=Object(B.a)({reducer:Lt,middleware:function(e){return e({serializableCheck:!1})}}),Pt=n(111),_t=Object(At.b)(zt);i.a.render(Object(j.jsx)(d.a,{store:zt,children:Object(j.jsx)(Pt.a,{loading:null,persistor:_t,children:Object(j.jsx)(qt,{})})}),document.getElementById("root"))},73:function(e,t,n){e.exports={darkMode:"note_darkMode__1k0L-"}}},[[156,1,2]]]);
//# sourceMappingURL=main.e683f563.chunk.js.map